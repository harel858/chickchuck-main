generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id             String          @id @default(uuid())
  name           String
  email          String          @unique
  password       String
  phone          String?
  city           String?
  street         String?
  businessName   String          @unique
  appointments   appointment[]
  treatment      treatment[]
  activityDays   Int[] // Define an array of integers field
  startActivity  String? // Define start activity field
  endActivity    String? // Define end activity field
  availableSlots availableSlot[]
  slotDuration   Int?
}

model appointment {
  id              String        @id @default(uuid())
  createAt        DateTime
  availableSlot   availableSlot @relation(fields: [availableSlotId], references: [id])
  availableSlotId String        @unique
  business        User          @relation(fields: [businessId], references: [id])
  treatment       treatment     @relation(fields: [treatmentId], references: [id])
  businessId      String
  treatmentId     String
  customer        customer      @relation(fields: [customerId], references: [id])
  customerId      String
}

model customer {
  id          String        @id @default(uuid())
  name        String
  phoneNumber String        @unique
  appointment appointment[]
}

model treatment {
  id          String        @id @default(uuid())
  title       String
  cost        String
  duration    String
  business    User          @relation(fields: [businessId], references: [id])
  businessId  String
  appointment appointment[]
}

model availableSlot {
  id          String       @id @default(uuid())
  start       String
  end         String
  business    User         @relation(fields: [businessId], references: [id])
  businessId  String
  appointment appointment?
}
